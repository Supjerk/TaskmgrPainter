# TaskmgrPainter

> 在任务管理器中画正弦曲线。

## 效果

![效果演示](./img/CPUWaveDemo.gif)

## 原理

在任务管理器中画画，实际上是控制CPU的占用率。CPU的占用率不同，会产生不同的图形。

### 什么是 CPU 占用率？

**一个CPU占用率就是一段时间内CPU真正执行指令的时间占这段时间的比率。** 比如一个 CPU 在1000毫秒之内，有300毫秒执行指令，700毫秒闲着，那么CPU占用率就是30%。与之对应的，在任务管理器中，就会有一个高度30%的波。

### 怎么操纵 CPU 使用率？

简单来说：

```c++
while (true) {
    // do not thing
}
```

这个时候，CPU 的使用率就为 100%。

那么我们再来：

```c++
Sleep(SOMETIMES);
```

我们 `Sleep` 之后 CPU 使用率为 0%。

那么，我们在每个任务管理器的绘制周期内，一部分 `while(true)` 一部分 `Sleep()`。

通过控制两部分的比例，我们可以“制造”出不同百分比的 CPU 使用率。